<h2>Containers</h2>
<p><a href="/">‚Üê Back to Home</a></p>

<h3>Navigation</h3>
<ul>
  <p><a href="/shipments">Shipments</a> - View, add, edit, and delete cargo shipments and their routes</p>
  <p><a href="/containers">Containers</a> - View, add, edit, and delete containers and their assignments</p>
  <p><a href="/railyards">Rail Yards</a> - View, add, edit, and delete rail yard locations and capacities</p>
  <p><a href="/trains">Trains</a> - View, add, edit, and delete train information and specifications</p>
</ul>

<!-- Add New Container Form -->
<div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-radius: 5px;">
  <h3>Add New Container</h3>
  <form action="/containers/add" method="POST" style="display: flex; gap: 10px; align-items: end;">
    <div>
      <label>Capacity (tons):<br>
        <input type="number" step="0.01" name="capacity_tons" required style="padding: 5px; width: 100px;">
      </label>
    </div>
    <div>
      <label>Current Railyard ID:<br>
        <input type="number" name="current_rail_id" required style="padding: 5px; width: 80px;" placeholder="e.g. 101">
      </label>
    </div>
    <div>
      <label>Shipment ID:<br>
        <input type="number" name="shipment_id" required style="padding: 5px; width: 80px;" placeholder="e.g. 1">
      </label>
    </div>
    <button type="submit" style="padding: 5px 15px; background-color: #28a745; color: white; border: none; border-radius: 3px;">Add Container</button>
  </form>
</div>

<table border="1" style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="padding: 8px;">Container ID</th>
      <th style="padding: 8px;">Capacity (tons)</th>
      <th style="padding: 8px;">Current Railyard</th>
      <th style="padding: 8px;">Shipment ID</th>
      <th style="padding: 8px;">Shipment Description</th>
      <th style="padding: 8px;">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each containers}}
    <tr>
      <td style="padding: 8px;">{{this.container_id}}</td>
      <form action="/containers/edit/{{this.container_id}}" method="POST" style="display: contents;">
        <td style="padding: 8px;">
          <input type="number" step="0.01" name="capacity_tons" value="{{this.capacity_tons}}" required style="width: 80px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <input type="number" name="current_rail_id" value="{{this.current_rail_id}}" required style="width: 60px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <input type="number" name="shipment_id" value="{{this.shipment_id}}" required style="width: 60px; padding: 2px;">
        </td>
        <td style="padding: 8px;">{{this.shipment_description}}</td>
        <td style="padding: 8px;">
          <button type="submit" style="padding: 3px 8px; background-color: #007bff; color: white; border: none; border-radius: 3px; margin-right: 5px;">Update</button>
      </form>
        <form action="/containers/delete/{{this.container_id}}" method="POST" style="display: inline;">
          <button type="submit" onclick="return confirm('Delete this container? This will also remove any train assignments.');" style="padding: 3px 8px; background-color: #dc3545; color: white; border: none; border-radius: 3px;">Delete</button>
        </form>
      </td>
    </tr>
    {{else}}
    <tr>
      <td colspan="6" style="padding: 8px; text-align: center; font-style: italic;">No containers found. Use RESET to restore sample data.</td>
    </tr>
    {{/each}}
  </tbody>
</table>

<p style="margin-top: 20px;"><em>Note: You can now add, edit, and delete containers directly from this page! Available Railyard IDs: 101, 102, 103, 104, 105</em></p>
