<h2>Rail Yards</h2>
<p><a href="/">â† Back to Home</a></p>

<h3>Navigation</h3>
<ul>
  <p><a href="/shipments">Shipments</a> - View, add, edit, and delete cargo shipments and their routes</p>
  <p><a href="/containers">Containers</a> - View, add, edit, and delete containers and their assignments</p>
  <p><a href="/railyards">Rail Yards</a> - View, add, edit, and delete rail yard locations and capacities</p>
  <p><a href="/trains">Trains</a> - View, add, edit, and delete train information and specifications</p>
  <p><a href="/containers_trains">ContainersTrains</a> - View, add, edit, and delete container-train connection specifications</p>
</ul>

<!-- Add New Railyard Form -->
<div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-radius: 5px;">
  <h3>Add New Rail Yard</h3>
  <form action="/railyards/add" method="POST" style="display: flex; gap: 10px; align-items: end;">
    <div>
      <label>Train Capacity:<br>
        <input type="number" name="train_capacity" required style="padding: 5px; width: 100px;" min="1">
      </label>
    </div>
    <button type="submit" style="padding: 5px 15px; background-color: #28a745; color: white; border: none; border-radius: 3px;">Add Rail Yard</button>
  </form>
</div>

<table border="1" style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="padding: 8px;">Railyard ID</th>
      <th style="padding: 8px;">Train Capacity</th>
      <th style="padding: 8px;">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each railyards}}
    <tr>
      <td style="padding: 8px;">{{this.railyard_id}}</td>
      <td style="padding: 8px;">
        <form action="/railyards/edit/{{this.railyard_id}}" method="POST" style="display: inline;">
          <input type="number" name="train_capacity" value="{{this.train_capacity}}" required style="width: 80px; padding: 2px;" min="1">
        </td>
      <td style="padding: 8px;">
          <button type="submit" style="padding: 3px 8px; background-color: #007bff; color: white; border: none; border-radius: 3px; margin-right: 5px;">Update</button>
        </form>
        <form action="/railyards/delete/{{this.railyard_id}}" method="POST" style="display: inline;">
          <button type="submit" onclick="return confirm('Delete this railyard? Make sure no shipments or containers reference it first.');" style="padding: 3px 8px; background-color: #dc3545; color: white; border: none; border-radius: 3px;">Delete</button>
        </form>
      </td>
    </tr>
    {{else}}
    <tr>
      <td colspan="3" style="padding: 8px; text-align: center; font-style: italic;">No railyards found. Use RESET to restore sample data.</td>
    </tr>
    {{/each}}
  </tbody>
</table>

<p style="margin-top: 20px;"><em>Note: You can now add, edit, and delete railyards directly from this page! Be careful when deleting - make sure no shipments or containers reference the railyard first.</em></p>
