<h2>Shipments</h2>
<p><a href="/">‚Üê Back to Home</a></p>

<h3>Navigation</h3>
<ul>
  <p><a href="/shipments">Shipments</a> - View, add, edit, and delete cargo shipments and their routes</p>
  <p><a href="/containers">Containers</a> - View, add, edit, and delete containers and their assignments</p>
  <p><a href="/railyards">Rail Yards</a> - View, add, edit, and delete rail yard locations and capacities</p>
  <p><a href="/trains">Trains</a> - View, add, edit, and delete train information and specifications</p>
</ul>

<!-- Add New Shipment Form -->
<div style="background-color: #f8f9fa; padding: 15px; margin: 15px 0; border-radius: 5px;">
  <h3>Add New Shipment</h3>
  <form action="/shipments/add" method="POST" style="display: flex; gap: 10px; align-items: end; flex-wrap: wrap;">
    <div>
      <label>Description:<br>
        <input type="text" name="description" required style="padding: 5px; width: 150px;">
      </label>
    </div>
    <div>
      <label>Weight (tons):<br>
        <input type="number" step="0.01" name="weight_tons" required style="padding: 5px; width: 100px;">
      </label>
    </div>
    <div>
      <label>Origin Railyard ID:<br>
        <input type="number" name="origin_railyard_id" required style="padding: 5px; width: 80px;" placeholder="e.g. 101">
      </label>
    </div>
    <div>
      <label>Destination Railyard ID:<br>
        <input type="number" name="destination_railyard_id" required style="padding: 5px; width: 80px;" placeholder="e.g. 102">
      </label>
    </div>
    <button type="submit" style="padding: 5px 15px; background-color: #28a745; color: white; border: none; border-radius: 3px;">Add Shipment</button>
  </form>
</div>

<table border="1" style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="padding: 8px;">ID</th>
      <th style="padding: 8px;">Description</th>
      <th style="padding: 8px;">Weight (tons)</th>
      <th style="padding: 8px;">Origin Yard</th>
      <th style="padding: 8px;">Destination Yard</th>
      <th style="padding: 8px;">Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each shipments}}
    <tr>
      <td style="padding: 8px;">{{this.shipment_id}}</td>
      <form action="/shipments/edit/{{this.shipment_id}}" method="POST" style="display: contents;">
        <td style="padding: 8px;">
          <input type="text" name="description" value="{{this.description}}" required style="width: 120px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <input type="number" step="0.01" name="weight_tons" value="{{this.weight_tons}}" required style="width: 80px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <input type="number" name="origin_railyard_id" value="{{this.origin_railyard_id}}" required style="width: 60px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <input type="number" name="destination_railyard_id" value="{{this.destination_railyard_id}}" required style="width: 60px; padding: 2px;">
        </td>
        <td style="padding: 8px;">
          <button type="submit" style="padding: 3px 8px; background-color: #007bff; color: white; border: none; border-radius: 3px; margin-right: 5px;">Update</button>
      </form>
        <form action="/shipments/delete/{{this.shipment_id}}" method="POST" style="display: inline;">
          <button type="submit" onclick="return confirm('Delete this shipment? This will also delete related containers.');" style="padding: 3px 8px; background-color: #dc3545; color: white; border: none; border-radius: 3px;">Delete</button>
        </form>
      </td>
    </tr>
    {{else}}
    <tr>
      <td colspan="6" style="padding: 8px; text-align: center; font-style: italic;">No shipments found. Use RESET to restore sample data.</td>
    </tr>
    {{/each}}
  </tbody>
</table>

<p style="margin-top: 20px;"><em>Note: You can now add, edit, and delete shipments directly from this page! Available Railyard IDs: 101, 102, 103, 104, 105</em></p>
